**微信登录配置**

**背景介绍**

本功能可以简化微信用户的登录、注册等环节，提高用户体验的同时，提高平台的用户粘度和购买转化，帮助平台更好的进行社会化营销。

**配置说明**

1、为了支持商城用户在PC端、M端商城使用微信登录，需要B2B租户在微信开放平台、微信公众平台注册账号，然后在微信开发平台创建网站应用，并绑定微信公众号，然后到JCMall运营后台配置相关信息，具体操作参见如下详细说明

2、客户配置完成后正式上线前一定要进行相应的测试。

3、如果客户在该文档指导下仍不能正常完成登录功能的配置，请及时与交付经理或产品经理联系。

**PC****端微信登录配置步骤：**

1、访问微信开放平台(https://open.weixin.qq.com/)，注册开发者账号。注册完成后，登录开放平台

![图片.png](https://img1.jcloudcs.com/cms/7e8f7232-385f-4f6e-afcb-5244d03683b720170817151345.png)

2、登录后，点击“网站应用”，创建网站应用，如下图所示：

![图片.png](https://img1.jcloudcs.com/cms/59fb8357-88df-4dce-8676-46c6bec730f220170817151356.png)

3、创建完网站应用后，您可以查看到审核通过的应用，点击查看“详情”，获取该应用的AppID和AppSecret

![图片.png](https://img1.jcloudcs.com/cms/2dbafa1e-c48b-4609-8337-a909fe88154620170817151405.png)

![图片.png](https://img1.jcloudcs.com/cms/8a5a63aa-c317-4094-9df9-de579ce512f020170817151412.png)

4、将网站应用的AppID和AppSecret录入到“pc端微信登录配置”中，启用微信登录，保存配置。PC端微信登录配置成功，用户即可以在PC端商城使用微信联合登录。

![图片.png](https://img1.jcloudcs.com/cms/06853b51-830e-42a8-9a10-78ecd2b54ec820170817151423.png)

**M****端微信登录配置步骤：**

1.访问微信公众平台(https://mp.weixin.qq.com/)，注册公众平台账号。注册完成后，登录公众平台。

![图片.png](https://img1.jcloudcs.com/cms/1965552a-6e08-4ecc-bb68-c3360595721a20170817151454.png)

2.获取微信公众平台开发信息：在 开发 > 基本配置页面，获取开发者ID(AppID)，设置或确认开发者密码(AppSecret)

![图片.png](https://img1.jcloudcs.com/cms/67714562-e295-4dfa-9022-ce5b787066a420170817151504.png)

3.将微信公众平台的开发开发者ID(AppID)、开发者密码(AppSecret)填写到：JCMall运营后台 >商城设置 > 系统设置 > 登录接口设置 > M端微信登录配置弹窗，并选择“启用”，保存配置。

![图片.png](https://img1.jcloudcs.com/cms/5c420b10-fe70-45dd-8a07-aa5ab44a039920170817151514.png)

4.访问微信开放平台(https://open.weixin.qq.com/)，注册开发者账号。注册完成后，登录开放平台。

![图片.png](https://img1.jcloudcs.com/cms/bb9302cc-6bb8-4aa6-a011-464805f2212f20170817151525.png)

5.登录微信开放平台，在 管理中心 > 公众账号/小程序，绑定上文中使用的公众账号。绑定成功后，用户即可在M端使用微信联合登录。

****![图片.png](https://img1.jcloudcs.com/cms/28af1cbf-5dad-4f36-8bce-8732e498f52620170817151539.png)