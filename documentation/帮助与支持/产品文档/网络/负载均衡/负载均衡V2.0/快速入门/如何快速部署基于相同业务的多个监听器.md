假如您的业务需要同时支持多个监听器，可以复用后端服务实现快速部署。

例如，您在后端服务部署的网站需要同时HTTP、HTTPS服务，可以创建复用相同后端服务的HTTP、HTTPS监听器。

**准备与规划**

* 
网络准备

根据业务部署需要，提前规划负载均衡和作为后端服务器的云主机、容器的地域、可用区、私有网络等。

注意：作为后端服务器的云主机、容器需要与负载均衡同一地域、私有网络，且只能选择负载均衡实例所在的可用区，否则流量将无法正常转发。

* 
服务器准备

需提前创建承载业务流量的云主机、容器，并确保打开监听所需的端口，合理配置安全组、ACL策略。

* 
负载均衡实例

创建一个负载均衡实例，并设置地域、可用区、网络、安全组等配置。

**创建一个HTTP协议的监听器**

前端监听配置：

1、配置监听协议为HTTP，端口80；

2、空闲连接超时：设置空闲连接超时时间；

![10-ksrm-1.png](https://img1.jcloudcs.com/cms/3bf62ec4-46fb-4dd1-a9e0-1c667a8b42e520180629020203.png)

后端转发配置：

1、默认后端服务：选择新建后端服务；

2、后端服务名称：定义后端服务名称，命名为“backend1”；

3、后端协议：根据监听协议显示对应的默认协议；

4、端口：定义后端转发端口；

5、调度算法：根据业务需要选择，这里指定为加权轮询；

6、会话保持：开启；

超时时间：定义cookie的超时时间，使用默认值0，代表与浏览器同生命周期；

7、获取真实IP：默认开启；

8、获取HTTP头字段：根据业务需要勾选。

![10-ksrm-2.png](https://img1.jcloudcs.com/cms/cde4ec32-0432-4e5a-9fc9-6225ce9b97f420180629020222.png)

健康检查：

选择健康检查方式为：http

根据业务需要配置相关参数：

![10-ksrm-3.png](https://img1.jcloudcs.com/cms/9ce15688-8c77-474e-95aa-8690bbd8e05020180629020241.png)

添加服务器组：

根据业务需要选择虚拟服务器组、高可用组。

![10-ksrm-4.png](https://img1.jcloudcs.com/cms/bbf5c03e-01f4-457d-bea6-d1a818abbf2920180629020256.png)

如没有可用的虚拟服务器组，点击“新建虚拟服务器组”创建一个新的虚拟服务器组，可选云主机、容器，定义实例的端口、权重；（注：只能选择与负载均衡同可用区和私有网络下的云主机、容器资源）。

![10-ksrm-5.png](https://img1.jcloudcs.com/cms/1dee4b7b-57f3-49dd-94a0-b7a72a74d9d520180629020317.png)

至此，已创建完成基于HTTP协议的监听器。

![10-ksrm-6.png](https://img1.jcloudcs.com/cms/864439a3-2804-414c-87c4-49792a0d299d20180629020334.png)

此时，在后端服务列表中已同步创建了一个名为“backend1”的资源。

![10-ksrm-7.png](https://img1.jcloudcs.com/cms/129bc4b6-60ab-4549-a2ea-cc511dacb32a20180629020357.png)

**复用后端服务创建HTTPS监听器**

前端监听配置：

1、配置前端监听协议为HTTPS，端口为443；

2、选择加密证书，如没有可用证书可点击“新建证书”上传；

3、设置空闲连接超时时间；

![10-ksrm-8.png](https://img1.jcloudcs.com/cms/75545838-0265-4c44-8529-4d62420f42f020180629020413.png)

后端服务转发：

选择使用已有后端服务：backend1；

可以直接使用已经存在的backend相关信息，与之前HTTP监听复用同一后端服务配置、健康检查、服务器组。

![10-ksrm-9.png](https://img1.jcloudcs.com/cms/524186a0-eafe-4db1-8148-8630382b94b220180629020523.png)

![10-ksrm-10.png](https://img1.jcloudcs.com/cms/55ea251f-5b7d-40fb-92fe-7add3d4d4bb220180629020537.png)

![10-ksrm-11.png](https://img1.jcloudcs.com/cms/9ea02719-afb8-4d1c-b9ab-d0ab5e436ee120180629020544.png)

通过这种方式，可以快速创建复用相同后端服务的多个监听器。注意：请确认业务场景可以复用后端服务的所有配置，如相同的后端转发端口等。

![10-ksrm-12.png](https://img1.jcloudcs.com/cms/312346e3-db78-4c39-af59-d3c130487fec20180629020603.png)