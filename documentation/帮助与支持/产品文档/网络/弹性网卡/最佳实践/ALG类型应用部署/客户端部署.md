**客户端部署**

本部分将以FileZilla服务为例说明ALG类型应用的客户端部署。

**步骤1**：通过FTP客户端的弹性公网IP地址进行远程桌面登录。

**步骤2**：下载FileZilla安装包并执行安装。

**步骤3**：启动FileZilla，点击菜单栏-编辑-设置，进入设置页面。点击连接-FTP，设置传输模式为被动模式；取消勾选“失败后允许退回到其他传输模式”选项。

**步骤4**：点击连接-FTP-被动模式，将被动模式选项由“使用服务器的外部IP地址来代替”变更为“退回到主动模式”。

**步骤5**：在FileZilla内，使用FTP服务器的主IP对应的弹性公网IP地址尝试登录，此时FTP服务器返回不可路由的地址，导致连接建立失败。

此时，因为未对FTP服务器进行特殊配置，导致应用层中的IP地址未进行转换，从而导致连接失败，属正常现象。下一步将对服务端进行改进，使连接可以正常建立。